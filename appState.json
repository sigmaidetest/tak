{"EDITOR_STATE":{"allProjectFiles":{"19578676-f7c9-43ce-874d-bed71ac13416":{"id":"19578676-f7c9-43ce-874d-bed71ac13416","parent":null,"name":"tak","type":"DIRECTORY","isDirectory":true,"children":["bfbbcecd-7a84-494a-88a1-9199269433b1"],"isRemovable":false,"filePath":"tak"},"bfbbcecd-7a84-494a-88a1-9199269433b1":{"id":"bfbbcecd-7a84-494a-88a1-9199269433b1","parent":"19578676-f7c9-43ce-874d-bed71ac13416","name":"tak-lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"tak/tak-lambda.js","code":"let AWS = require('aws-sdk');\nconst sqs = new AWS.SQS();\nconst s3 = new AWS.S3();\nconst ddb = new AWS.DynamoDB.DocumentClient();\nconst sns = new AWS.SNS();\nexports.handler = function (event, context, callback) {\n    sns.publish({\n        Message: 'd',\n        Subject: 'c',\n        MessageAttributes: {},\n        MessageStructure: 'String',\n        TopicArn: 'arn:aws:sns:us-east-1:359675929438:a'\n    }).promise()\n        .then(data => {\n            // your code goes here\n        })\n        .catch(err => {\n            // error handling goes here\n        });\n    ddb.put({\n        TableName: 'a',\n        Item: { c: 'd' }\n    }, function (err, data) {\n        if (err) {\n            //handle error\n        } else {\n            //your logic goes here\n        }\n    });\n    s3.copyObject({\n        'Bucket': \"dynamo-lambda-redshift-data\",\n        'CopySource': \"/apig-kine-proxy/key\",\n        'Key': \"key\"\n    }).promise()\n        .then(data => {\n            console.log(data);           // successful response\n            /*\n            data = {\n                CopyObjectResult: {\n                    ETag: \"\\\"6805f2cfc46c0f04559748bb039d69ae\\\"\",\n                    LastModified: <Date Representation>\n                }\n            }\n            */\n        })\n        .catch(err => {\n            console.log(err, err.stack); // an error occurred\n        });\n    sqs.receiveMessage({\n        QueueUrl: 'https://sqs.us-east-1.amazonaws.com/359675929438/a',\n        AttributeNames: ['All'],\n        MaxNumberOfMessages: '1',\n        VisibilityTimeout: '30',\n        WaitTimeSeconds: '0'\n    }, function (err, data) {\n        if (err) {\n            console.log(\"Receive Error\", err);\n        } else if (data.Messages) {\n            var message = data.Messages[0]\n            // your logic to access this fetched message, should be here\n        } else {\n            console.log(\"No messages found in the queue\");\n        }\n    });\n}","ast":{"type":"File","start":0,"end":1930,"loc":{"start":{"line":1,"column":0},"end":{"line":65,"column":1}},"program":{"type":"Program","start":0,"end":1930,"loc":{"start":{"line":1,"column":0},"end":{"line":65,"column":1}},"sourceType":"module","body":[{"type":"VariableDeclaration","start":0,"end":29,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"declarations":[{"type":"VariableDeclarator","start":4,"end":28,"loc":{"start":{"line":1,"column":4},"end":{"line":1,"column":28}},"id":{"type":"Identifier","start":4,"end":7,"loc":{"start":{"line":1,"column":4},"end":{"line":1,"column":7},"identifierName":"AWS"},"name":"AWS"},"init":{"type":"CallExpression","start":10,"end":28,"loc":{"start":{"line":1,"column":10},"end":{"line":1,"column":28}},"callee":{"type":"Identifier","start":10,"end":17,"loc":{"start":{"line":1,"column":10},"end":{"line":1,"column":17},"identifierName":"require"},"name":"require"},"arguments":[{"type":"StringLiteral","start":18,"end":27,"loc":{"start":{"line":1,"column":18},"end":{"line":1,"column":27}},"extra":{"rawValue":"aws-sdk","raw":"'aws-sdk'"},"value":"aws-sdk"}]}}],"kind":"let"},{"type":"VariableDeclaration","start":30,"end":56,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":26}},"declarations":[{"type":"VariableDeclarator","start":36,"end":55,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":25}},"id":{"type":"Identifier","start":36,"end":39,"loc":{"start":{"line":2,"column":6},"end":{"line":2,"column":9},"identifierName":"sqs"},"name":"sqs"},"init":{"type":"NewExpression","start":42,"end":55,"loc":{"start":{"line":2,"column":12},"end":{"line":2,"column":25}},"callee":{"type":"MemberExpression","start":46,"end":53,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":23}},"object":{"type":"Identifier","start":46,"end":49,"loc":{"start":{"line":2,"column":16},"end":{"line":2,"column":19},"identifierName":"AWS"},"name":"AWS"},"property":{"type":"Identifier","start":50,"end":53,"loc":{"start":{"line":2,"column":20},"end":{"line":2,"column":23},"identifierName":"SQS"},"name":"SQS"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":57,"end":81,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"declarations":[{"type":"VariableDeclarator","start":63,"end":80,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":23}},"id":{"type":"Identifier","start":63,"end":65,"loc":{"start":{"line":3,"column":6},"end":{"line":3,"column":8},"identifierName":"s3"},"name":"s3"},"init":{"type":"NewExpression","start":68,"end":80,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":23}},"callee":{"type":"MemberExpression","start":72,"end":78,"loc":{"start":{"line":3,"column":15},"end":{"line":3,"column":21}},"object":{"type":"Identifier","start":72,"end":75,"loc":{"start":{"line":3,"column":15},"end":{"line":3,"column":18},"identifierName":"AWS"},"name":"AWS"},"property":{"type":"Identifier","start":76,"end":78,"loc":{"start":{"line":3,"column":19},"end":{"line":3,"column":21},"identifierName":"S3"},"name":"S3"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":82,"end":128,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":46}},"declarations":[{"type":"VariableDeclarator","start":88,"end":127,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":45}},"id":{"type":"Identifier","start":88,"end":91,"loc":{"start":{"line":4,"column":6},"end":{"line":4,"column":9},"identifierName":"ddb"},"name":"ddb"},"init":{"type":"NewExpression","start":94,"end":127,"loc":{"start":{"line":4,"column":12},"end":{"line":4,"column":45}},"callee":{"type":"MemberExpression","start":98,"end":125,"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":43}},"object":{"type":"MemberExpression","start":98,"end":110,"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":28}},"object":{"type":"Identifier","start":98,"end":101,"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":19},"identifierName":"AWS"},"name":"AWS"},"property":{"type":"Identifier","start":102,"end":110,"loc":{"start":{"line":4,"column":20},"end":{"line":4,"column":28},"identifierName":"DynamoDB"},"name":"DynamoDB"},"computed":false},"property":{"type":"Identifier","start":111,"end":125,"loc":{"start":{"line":4,"column":29},"end":{"line":4,"column":43},"identifierName":"DocumentClient"},"name":"DocumentClient"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":129,"end":155,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":26}},"declarations":[{"type":"VariableDeclarator","start":135,"end":154,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":25}},"id":{"type":"Identifier","start":135,"end":138,"loc":{"start":{"line":5,"column":6},"end":{"line":5,"column":9},"identifierName":"sns"},"name":"sns"},"init":{"type":"NewExpression","start":141,"end":154,"loc":{"start":{"line":5,"column":12},"end":{"line":5,"column":25}},"callee":{"type":"MemberExpression","start":145,"end":152,"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":23}},"object":{"type":"Identifier","start":145,"end":148,"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":19},"identifierName":"AWS"},"name":"AWS"},"property":{"type":"Identifier","start":149,"end":152,"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":23},"identifierName":"SNS"},"name":"SNS"},"computed":false},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":156,"end":1930,"loc":{"start":{"line":6,"column":0},"end":{"line":65,"column":1}},"expression":{"type":"AssignmentExpression","start":156,"end":1930,"loc":{"start":{"line":6,"column":0},"end":{"line":65,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":156,"end":171,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":15}},"object":{"type":"Identifier","start":156,"end":163,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":7},"identifierName":"exports"},"name":"exports"},"property":{"type":"Identifier","start":164,"end":171,"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":15},"identifierName":"handler"},"name":"handler"},"computed":false},"right":{"type":"FunctionExpression","start":174,"end":1930,"loc":{"start":{"line":6,"column":18},"end":{"line":65,"column":1}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","start":184,"end":189,"loc":{"start":{"line":6,"column":28},"end":{"line":6,"column":33},"identifierName":"event"},"name":"event"},{"type":"Identifier","start":191,"end":198,"loc":{"start":{"line":6,"column":35},"end":{"line":6,"column":42},"identifierName":"context"},"name":"context"},{"type":"Identifier","start":200,"end":208,"loc":{"start":{"line":6,"column":44},"end":{"line":6,"column":52},"identifierName":"callback"},"name":"callback"}],"body":{"type":"BlockStatement","start":210,"end":1930,"loc":{"start":{"line":6,"column":54},"end":{"line":65,"column":1}},"body":[{"type":"ExpressionStatement","start":216,"end":560,"loc":{"start":{"line":7,"column":4},"end":{"line":19,"column":11}},"expression":{"type":"CallExpression","start":216,"end":559,"loc":{"start":{"line":7,"column":4},"end":{"line":19,"column":10}},"callee":{"type":"MemberExpression","start":216,"end":499,"loc":{"start":{"line":7,"column":4},"end":{"line":17,"column":14}},"object":{"type":"CallExpression","start":216,"end":484,"loc":{"start":{"line":7,"column":4},"end":{"line":16,"column":10}},"callee":{"type":"MemberExpression","start":216,"end":428,"loc":{"start":{"line":7,"column":4},"end":{"line":14,"column":13}},"object":{"type":"CallExpression","start":216,"end":414,"loc":{"start":{"line":7,"column":4},"end":{"line":13,"column":16}},"callee":{"type":"MemberExpression","start":216,"end":412,"loc":{"start":{"line":7,"column":4},"end":{"line":13,"column":14}},"object":{"type":"CallExpression","start":216,"end":404,"loc":{"start":{"line":7,"column":4},"end":{"line":13,"column":6}},"callee":{"type":"MemberExpression","start":216,"end":227,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":15}},"object":{"type":"Identifier","start":216,"end":219,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":7},"identifierName":"sns"},"name":"sns"},"property":{"type":"Identifier","start":220,"end":227,"loc":{"start":{"line":7,"column":8},"end":{"line":7,"column":15},"identifierName":"publish"},"name":"publish"},"computed":false},"arguments":[{"type":"ObjectExpression","start":228,"end":403,"loc":{"start":{"line":7,"column":16},"end":{"line":13,"column":5}},"properties":[{"type":"ObjectProperty","start":238,"end":250,"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":20}},"method":false,"key":{"type":"Identifier","start":238,"end":245,"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":15},"identifierName":"Message"},"name":"Message"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","start":247,"end":250,"loc":{"start":{"line":8,"column":17},"end":{"line":8,"column":20}},"extra":{"rawValue":"d","raw":"'d'"},"value":"d"}},{"type":"ObjectProperty","start":260,"end":272,"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":20}},"method":false,"key":{"type":"Identifier","start":260,"end":267,"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":15},"identifierName":"Subject"},"name":"Subject"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","start":269,"end":272,"loc":{"start":{"line":9,"column":17},"end":{"line":9,"column":20}},"extra":{"rawValue":"c","raw":"'c'"},"value":"c"}},{"type":"ObjectProperty","start":282,"end":303,"loc":{"start":{"line":10,"column":8},"end":{"line":10,"column":29}},"method":false,"key":{"type":"Identifier","start":282,"end":299,"loc":{"start":{"line":10,"column":8},"end":{"line":10,"column":25},"identifierName":"MessageAttributes"},"name":"MessageAttributes"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":301,"end":303,"loc":{"start":{"line":10,"column":27},"end":{"line":10,"column":29}},"properties":[]}},{"type":"ObjectProperty","start":313,"end":339,"loc":{"start":{"line":11,"column":8},"end":{"line":11,"column":34}},"method":false,"key":{"type":"Identifier","start":313,"end":329,"loc":{"start":{"line":11,"column":8},"end":{"line":11,"column":24},"identifierName":"MessageStructure"},"name":"MessageStructure"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","start":331,"end":339,"loc":{"start":{"line":11,"column":26},"end":{"line":11,"column":34}},"extra":{"rawValue":"String","raw":"'String'"},"value":"String"}},{"type":"ObjectProperty","start":349,"end":397,"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":56}},"method":false,"key":{"type":"Identifier","start":349,"end":357,"loc":{"start":{"line":12,"column":8},"end":{"line":12,"column":16},"identifierName":"TopicArn"},"name":"TopicArn"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","start":359,"end":397,"loc":{"start":{"line":12,"column":18},"end":{"line":12,"column":56}},"extra":{"rawValue":"arn:aws:sns:us-east-1:359675929438:a","raw":"'arn:aws:sns:us-east-1:359675929438:a'"},"value":"arn:aws:sns:us-east-1:359675929438:a"}}]}]},"property":{"type":"Identifier","start":405,"end":412,"loc":{"start":{"line":13,"column":7},"end":{"line":13,"column":14},"identifierName":"promise"},"name":"promise"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":424,"end":428,"loc":{"start":{"line":14,"column":9},"end":{"line":14,"column":13},"identifierName":"then"},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":429,"end":483,"loc":{"start":{"line":14,"column":14},"end":{"line":16,"column":9}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","start":429,"end":433,"loc":{"start":{"line":14,"column":14},"end":{"line":14,"column":18},"identifierName":"data"},"name":"data"}],"body":{"type":"BlockStatement","start":437,"end":483,"loc":{"start":{"line":14,"column":22},"end":{"line":16,"column":9}},"body":[],"directives":[],"leadingComments":null,"innerComments":[{"type":"CommentLine","value":" your code goes here","start":451,"end":473,"loc":{"start":{"line":15,"column":12},"end":{"line":15,"column":34}}}]},"trailingComments":[{"type":"CommentLine","value":" your code goes here","start":451,"end":473,"loc":{"start":{"line":15,"column":12},"end":{"line":15,"column":34}}}]}]},"property":{"type":"Identifier","start":494,"end":499,"loc":{"start":{"line":17,"column":9},"end":{"line":17,"column":14},"identifierName":"catch"},"name":"catch"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":500,"end":558,"loc":{"start":{"line":17,"column":15},"end":{"line":19,"column":9}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","start":500,"end":503,"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":18},"identifierName":"err"},"name":"err"}],"body":{"type":"BlockStatement","start":507,"end":558,"loc":{"start":{"line":17,"column":22},"end":{"line":19,"column":9}},"body":[],"directives":[],"leadingComments":null,"innerComments":[{"type":"CommentLine","value":" error handling goes here","start":521,"end":548,"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":39}}}]},"trailingComments":[{"type":"CommentLine","value":" error handling goes here","start":521,"end":548,"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":39}}}]}]}},{"type":"ExpressionStatement","start":565,"end":769,"loc":{"start":{"line":20,"column":4},"end":{"line":29,"column":7}},"expression":{"type":"CallExpression","start":565,"end":768,"loc":{"start":{"line":20,"column":4},"end":{"line":29,"column":6}},"callee":{"type":"MemberExpression","start":565,"end":572,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":11}},"object":{"type":"Identifier","start":565,"end":568,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":7},"identifierName":"ddb"},"name":"ddb"},"property":{"type":"Identifier","start":569,"end":572,"loc":{"start":{"line":20,"column":8},"end":{"line":20,"column":11},"identifierName":"put"},"name":"put"},"computed":false},"arguments":[{"type":"ObjectExpression","start":573,"end":629,"loc":{"start":{"line":20,"column":12},"end":{"line":23,"column":5}},"properties":[{"type":"ObjectProperty","start":583,"end":597,"loc":{"start":{"line":21,"column":8},"end":{"line":21,"column":22}},"method":false,"key":{"type":"Identifier","start":583,"end":592,"loc":{"start":{"line":21,"column":8},"end":{"line":21,"column":17},"identifierName":"TableName"},"name":"TableName"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","start":594,"end":597,"loc":{"start":{"line":21,"column":19},"end":{"line":21,"column":22}},"extra":{"rawValue":"a","raw":"'a'"},"value":"a"}},{"type":"ObjectProperty","start":607,"end":623,"loc":{"start":{"line":22,"column":8},"end":{"line":22,"column":24}},"method":false,"key":{"type":"Identifier","start":607,"end":611,"loc":{"start":{"line":22,"column":8},"end":{"line":22,"column":12},"identifierName":"Item"},"name":"Item"},"computed":false,"shorthand":false,"value":{"type":"ObjectExpression","start":613,"end":623,"loc":{"start":{"line":22,"column":14},"end":{"line":22,"column":24}},"properties":[{"type":"ObjectProperty","start":615,"end":621,"loc":{"start":{"line":22,"column":16},"end":{"line":22,"column":22}},"method":false,"key":{"type":"Identifier","start":615,"end":616,"loc":{"start":{"line":22,"column":16},"end":{"line":22,"column":17},"identifierName":"c"},"name":"c"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","start":618,"end":621,"loc":{"start":{"line":22,"column":19},"end":{"line":22,"column":22}},"extra":{"rawValue":"d","raw":"'d'"},"value":"d"}}]}}]},{"type":"FunctionExpression","start":631,"end":767,"loc":{"start":{"line":23,"column":7},"end":{"line":29,"column":5}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","start":641,"end":644,"loc":{"start":{"line":23,"column":17},"end":{"line":23,"column":20},"identifierName":"err"},"name":"err"},{"type":"Identifier","start":646,"end":650,"loc":{"start":{"line":23,"column":22},"end":{"line":23,"column":26},"identifierName":"data"},"name":"data"}],"body":{"type":"BlockStatement","start":652,"end":767,"loc":{"start":{"line":23,"column":28},"end":{"line":29,"column":5}},"body":[{"type":"IfStatement","start":662,"end":761,"loc":{"start":{"line":24,"column":8},"end":{"line":28,"column":9}},"test":{"type":"Identifier","start":666,"end":669,"loc":{"start":{"line":24,"column":12},"end":{"line":24,"column":15},"identifierName":"err"},"name":"err"},"consequent":{"type":"BlockStatement","start":671,"end":709,"loc":{"start":{"line":24,"column":17},"end":{"line":26,"column":9}},"body":[],"directives":[],"leadingComments":null,"innerComments":[{"type":"CommentLine","value":"handle error","start":685,"end":699,"loc":{"start":{"line":25,"column":12},"end":{"line":25,"column":26}}}]},"alternate":{"type":"BlockStatement","start":715,"end":761,"loc":{"start":{"line":26,"column":15},"end":{"line":28,"column":9}},"body":[],"directives":[],"leadingComments":[{"type":"CommentLine","value":"handle error","start":685,"end":699,"loc":{"start":{"line":25,"column":12},"end":{"line":25,"column":26}}}],"innerComments":[{"type":"CommentLine","value":"your logic goes here","start":729,"end":751,"loc":{"start":{"line":27,"column":12},"end":{"line":27,"column":34}}}]}}],"directives":[]},"trailingComments":[{"type":"CommentLine","value":"handle error","start":685,"end":699,"loc":{"start":{"line":25,"column":12},"end":{"line":25,"column":26}}},{"type":"CommentLine","value":"your logic goes here","start":729,"end":751,"loc":{"start":{"line":27,"column":12},"end":{"line":27,"column":34}}}]}]}},{"type":"ExpressionStatement","start":774,"end":1360,"loc":{"start":{"line":30,"column":4},"end":{"line":48,"column":11}},"expression":{"type":"CallExpression","start":774,"end":1359,"loc":{"start":{"line":30,"column":4},"end":{"line":48,"column":10}},"callee":{"type":"MemberExpression","start":774,"end":1277,"loc":{"start":{"line":30,"column":4},"end":{"line":46,"column":14}},"object":{"type":"CallExpression","start":774,"end":1262,"loc":{"start":{"line":30,"column":4},"end":{"line":45,"column":10}},"callee":{"type":"MemberExpression","start":774,"end":936,"loc":{"start":{"line":30,"column":4},"end":{"line":35,"column":13}},"object":{"type":"CallExpression","start":774,"end":922,"loc":{"start":{"line":30,"column":4},"end":{"line":34,"column":16}},"callee":{"type":"MemberExpression","start":774,"end":920,"loc":{"start":{"line":30,"column":4},"end":{"line":34,"column":14}},"object":{"type":"CallExpression","start":774,"end":912,"loc":{"start":{"line":30,"column":4},"end":{"line":34,"column":6}},"callee":{"type":"MemberExpression","start":774,"end":787,"loc":{"start":{"line":30,"column":4},"end":{"line":30,"column":17}},"object":{"type":"Identifier","start":774,"end":776,"loc":{"start":{"line":30,"column":4},"end":{"line":30,"column":6},"identifierName":"s3"},"name":"s3"},"property":{"type":"Identifier","start":777,"end":787,"loc":{"start":{"line":30,"column":7},"end":{"line":30,"column":17},"identifierName":"copyObject"},"name":"copyObject"},"computed":false},"arguments":[{"type":"ObjectExpression","start":788,"end":911,"loc":{"start":{"line":30,"column":18},"end":{"line":34,"column":5}},"properties":[{"type":"ObjectProperty","start":798,"end":837,"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":47}},"method":false,"key":{"type":"StringLiteral","start":798,"end":806,"loc":{"start":{"line":31,"column":8},"end":{"line":31,"column":16}},"extra":{"rawValue":"Bucket","raw":"'Bucket'"},"value":"Bucket"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","start":808,"end":837,"loc":{"start":{"line":31,"column":18},"end":{"line":31,"column":47}},"extra":{"rawValue":"dynamo-lambda-redshift-data","raw":"\"dynamo-lambda-redshift-data\""},"value":"dynamo-lambda-redshift-data"}},{"type":"ObjectProperty","start":847,"end":883,"loc":{"start":{"line":32,"column":8},"end":{"line":32,"column":44}},"method":false,"key":{"type":"StringLiteral","start":847,"end":859,"loc":{"start":{"line":32,"column":8},"end":{"line":32,"column":20}},"extra":{"rawValue":"CopySource","raw":"'CopySource'"},"value":"CopySource"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","start":861,"end":883,"loc":{"start":{"line":32,"column":22},"end":{"line":32,"column":44}},"extra":{"rawValue":"/apig-kine-proxy/key","raw":"\"/apig-kine-proxy/key\""},"value":"/apig-kine-proxy/key"}},{"type":"ObjectProperty","start":893,"end":905,"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":20}},"method":false,"key":{"type":"StringLiteral","start":893,"end":898,"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":13}},"extra":{"rawValue":"Key","raw":"'Key'"},"value":"Key"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","start":900,"end":905,"loc":{"start":{"line":33,"column":15},"end":{"line":33,"column":20}},"extra":{"rawValue":"key","raw":"\"key\""},"value":"key"}}]}]},"property":{"type":"Identifier","start":913,"end":920,"loc":{"start":{"line":34,"column":7},"end":{"line":34,"column":14},"identifierName":"promise"},"name":"promise"},"computed":false},"arguments":[]},"property":{"type":"Identifier","start":932,"end":936,"loc":{"start":{"line":35,"column":9},"end":{"line":35,"column":13},"identifierName":"then"},"name":"then"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":937,"end":1261,"loc":{"start":{"line":35,"column":14},"end":{"line":45,"column":9}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","start":937,"end":941,"loc":{"start":{"line":35,"column":14},"end":{"line":35,"column":18},"identifierName":"data"},"name":"data"}],"body":{"type":"BlockStatement","start":945,"end":1261,"loc":{"start":{"line":35,"column":22},"end":{"line":45,"column":9}},"body":[{"type":"ExpressionStatement","start":959,"end":977,"loc":{"start":{"line":36,"column":12},"end":{"line":36,"column":30}},"expression":{"type":"CallExpression","start":959,"end":976,"loc":{"start":{"line":36,"column":12},"end":{"line":36,"column":29}},"callee":{"type":"MemberExpression","start":959,"end":970,"loc":{"start":{"line":36,"column":12},"end":{"line":36,"column":23}},"object":{"type":"Identifier","start":959,"end":966,"loc":{"start":{"line":36,"column":12},"end":{"line":36,"column":19},"identifierName":"console"},"name":"console"},"property":{"type":"Identifier","start":967,"end":970,"loc":{"start":{"line":36,"column":20},"end":{"line":36,"column":23},"identifierName":"log"},"name":"log"},"computed":false},"arguments":[{"type":"Identifier","start":971,"end":975,"loc":{"start":{"line":36,"column":24},"end":{"line":36,"column":28},"identifierName":"data"},"name":"data"}]},"trailingComments":[{"type":"CommentLine","value":" successful response","start":988,"end":1010,"loc":{"start":{"line":36,"column":41},"end":{"line":36,"column":63}}},{"type":"CommentBlock","value":"\n            data = {\n                CopyObjectResult: {\n                    ETag: \"\\\"6805f2cfc46c0f04559748bb039d69ae\\\"\",\n                    LastModified: <Date Representation>\n                }\n            }\n            ","start":1023,"end":1251,"loc":{"start":{"line":37,"column":12},"end":{"line":44,"column":14}}}]}],"directives":[]},"trailingComments":[{"type":"CommentLine","value":" successful response","start":988,"end":1010,"loc":{"start":{"line":36,"column":41},"end":{"line":36,"column":63}}},{"type":"CommentBlock","value":"\n            data = {\n                CopyObjectResult: {\n                    ETag: \"\\\"6805f2cfc46c0f04559748bb039d69ae\\\"\",\n                    LastModified: <Date Representation>\n                }\n            }\n            ","start":1023,"end":1251,"loc":{"start":{"line":37,"column":12},"end":{"line":44,"column":14}}}]}]},"property":{"type":"Identifier","start":1272,"end":1277,"loc":{"start":{"line":46,"column":9},"end":{"line":46,"column":14},"identifierName":"catch"},"name":"catch"},"computed":false},"arguments":[{"type":"ArrowFunctionExpression","start":1278,"end":1358,"loc":{"start":{"line":46,"column":15},"end":{"line":48,"column":9}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","start":1278,"end":1281,"loc":{"start":{"line":46,"column":15},"end":{"line":46,"column":18},"identifierName":"err"},"name":"err"}],"body":{"type":"BlockStatement","start":1285,"end":1358,"loc":{"start":{"line":46,"column":22},"end":{"line":48,"column":9}},"body":[{"type":"ExpressionStatement","start":1299,"end":1327,"loc":{"start":{"line":47,"column":12},"end":{"line":47,"column":40}},"expression":{"type":"CallExpression","start":1299,"end":1326,"loc":{"start":{"line":47,"column":12},"end":{"line":47,"column":39}},"callee":{"type":"MemberExpression","start":1299,"end":1310,"loc":{"start":{"line":47,"column":12},"end":{"line":47,"column":23}},"object":{"type":"Identifier","start":1299,"end":1306,"loc":{"start":{"line":47,"column":12},"end":{"line":47,"column":19},"identifierName":"console"},"name":"console"},"property":{"type":"Identifier","start":1307,"end":1310,"loc":{"start":{"line":47,"column":20},"end":{"line":47,"column":23},"identifierName":"log"},"name":"log"},"computed":false},"arguments":[{"type":"Identifier","start":1311,"end":1314,"loc":{"start":{"line":47,"column":24},"end":{"line":47,"column":27},"identifierName":"err"},"name":"err"},{"type":"MemberExpression","start":1316,"end":1325,"loc":{"start":{"line":47,"column":29},"end":{"line":47,"column":38}},"object":{"type":"Identifier","start":1316,"end":1319,"loc":{"start":{"line":47,"column":29},"end":{"line":47,"column":32},"identifierName":"err"},"name":"err"},"property":{"type":"Identifier","start":1320,"end":1325,"loc":{"start":{"line":47,"column":33},"end":{"line":47,"column":38},"identifierName":"stack"},"name":"stack"},"computed":false}]},"trailingComments":[{"type":"CommentLine","value":" an error occurred","start":1328,"end":1348,"loc":{"start":{"line":47,"column":41},"end":{"line":47,"column":61}}}]}],"directives":[]},"trailingComments":[{"type":"CommentLine","value":" an error occurred","start":1328,"end":1348,"loc":{"start":{"line":47,"column":41},"end":{"line":47,"column":61}}}]}]}},{"type":"ExpressionStatement","start":1365,"end":1928,"loc":{"start":{"line":49,"column":4},"end":{"line":64,"column":7}},"expression":{"type":"CallExpression","start":1365,"end":1927,"loc":{"start":{"line":49,"column":4},"end":{"line":64,"column":6}},"callee":{"type":"MemberExpression","start":1365,"end":1383,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":22}},"object":{"type":"Identifier","start":1365,"end":1368,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":7},"identifierName":"sqs"},"name":"sqs"},"property":{"type":"Identifier","start":1369,"end":1383,"loc":{"start":{"line":49,"column":8},"end":{"line":49,"column":22},"identifierName":"receiveMessage"},"name":"receiveMessage"},"computed":false},"arguments":[{"type":"ObjectExpression","start":1384,"end":1592,"loc":{"start":{"line":49,"column":23},"end":{"line":55,"column":5}},"properties":[{"type":"ObjectProperty","start":1394,"end":1456,"loc":{"start":{"line":50,"column":8},"end":{"line":50,"column":70}},"method":false,"key":{"type":"Identifier","start":1394,"end":1402,"loc":{"start":{"line":50,"column":8},"end":{"line":50,"column":16},"identifierName":"QueueUrl"},"name":"QueueUrl"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","start":1404,"end":1456,"loc":{"start":{"line":50,"column":18},"end":{"line":50,"column":70}},"extra":{"rawValue":"https://sqs.us-east-1.amazonaws.com/359675929438/a","raw":"'https://sqs.us-east-1.amazonaws.com/359675929438/a'"},"value":"https://sqs.us-east-1.amazonaws.com/359675929438/a"}},{"type":"ObjectProperty","start":1466,"end":1489,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":31}},"method":false,"key":{"type":"Identifier","start":1466,"end":1480,"loc":{"start":{"line":51,"column":8},"end":{"line":51,"column":22},"identifierName":"AttributeNames"},"name":"AttributeNames"},"computed":false,"shorthand":false,"value":{"type":"ArrayExpression","start":1482,"end":1489,"loc":{"start":{"line":51,"column":24},"end":{"line":51,"column":31}},"elements":[{"type":"StringLiteral","start":1483,"end":1488,"loc":{"start":{"line":51,"column":25},"end":{"line":51,"column":30}},"extra":{"rawValue":"All","raw":"'All'"},"value":"All"}]}},{"type":"ObjectProperty","start":1499,"end":1523,"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":32}},"method":false,"key":{"type":"Identifier","start":1499,"end":1518,"loc":{"start":{"line":52,"column":8},"end":{"line":52,"column":27},"identifierName":"MaxNumberOfMessages"},"name":"MaxNumberOfMessages"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","start":1520,"end":1523,"loc":{"start":{"line":52,"column":29},"end":{"line":52,"column":32}},"extra":{"rawValue":"1","raw":"'1'"},"value":"1"}},{"type":"ObjectProperty","start":1533,"end":1556,"loc":{"start":{"line":53,"column":8},"end":{"line":53,"column":31}},"method":false,"key":{"type":"Identifier","start":1533,"end":1550,"loc":{"start":{"line":53,"column":8},"end":{"line":53,"column":25},"identifierName":"VisibilityTimeout"},"name":"VisibilityTimeout"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","start":1552,"end":1556,"loc":{"start":{"line":53,"column":27},"end":{"line":53,"column":31}},"extra":{"rawValue":"30","raw":"'30'"},"value":"30"}},{"type":"ObjectProperty","start":1566,"end":1586,"loc":{"start":{"line":54,"column":8},"end":{"line":54,"column":28}},"method":false,"key":{"type":"Identifier","start":1566,"end":1581,"loc":{"start":{"line":54,"column":8},"end":{"line":54,"column":23},"identifierName":"WaitTimeSeconds"},"name":"WaitTimeSeconds"},"computed":false,"shorthand":false,"value":{"type":"StringLiteral","start":1583,"end":1586,"loc":{"start":{"line":54,"column":25},"end":{"line":54,"column":28}},"extra":{"rawValue":"0","raw":"'0'"},"value":"0"}}]},{"type":"FunctionExpression","start":1594,"end":1926,"loc":{"start":{"line":55,"column":7},"end":{"line":64,"column":5}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","start":1604,"end":1607,"loc":{"start":{"line":55,"column":17},"end":{"line":55,"column":20},"identifierName":"err"},"name":"err"},{"type":"Identifier","start":1609,"end":1613,"loc":{"start":{"line":55,"column":22},"end":{"line":55,"column":26},"identifierName":"data"},"name":"data"}],"body":{"type":"BlockStatement","start":1615,"end":1926,"loc":{"start":{"line":55,"column":28},"end":{"line":64,"column":5}},"body":[{"type":"IfStatement","start":1625,"end":1920,"loc":{"start":{"line":56,"column":8},"end":{"line":63,"column":9}},"test":{"type":"Identifier","start":1629,"end":1632,"loc":{"start":{"line":56,"column":12},"end":{"line":56,"column":15},"identifierName":"err"},"name":"err"},"consequent":{"type":"BlockStatement","start":1634,"end":1692,"loc":{"start":{"line":56,"column":17},"end":{"line":58,"column":9}},"body":[{"type":"ExpressionStatement","start":1648,"end":1682,"loc":{"start":{"line":57,"column":12},"end":{"line":57,"column":46}},"expression":{"type":"CallExpression","start":1648,"end":1681,"loc":{"start":{"line":57,"column":12},"end":{"line":57,"column":45}},"callee":{"type":"MemberExpression","start":1648,"end":1659,"loc":{"start":{"line":57,"column":12},"end":{"line":57,"column":23}},"object":{"type":"Identifier","start":1648,"end":1655,"loc":{"start":{"line":57,"column":12},"end":{"line":57,"column":19},"identifierName":"console"},"name":"console"},"property":{"type":"Identifier","start":1656,"end":1659,"loc":{"start":{"line":57,"column":20},"end":{"line":57,"column":23},"identifierName":"log"},"name":"log"},"computed":false},"arguments":[{"type":"StringLiteral","start":1660,"end":1675,"loc":{"start":{"line":57,"column":24},"end":{"line":57,"column":39}},"extra":{"rawValue":"Receive Error","raw":"\"Receive Error\""},"value":"Receive Error"},{"type":"Identifier","start":1677,"end":1680,"loc":{"start":{"line":57,"column":41},"end":{"line":57,"column":44},"identifierName":"err"},"name":"err"}]}}],"directives":[]},"alternate":{"type":"IfStatement","start":1698,"end":1920,"loc":{"start":{"line":58,"column":15},"end":{"line":63,"column":9}},"test":{"type":"MemberExpression","start":1702,"end":1715,"loc":{"start":{"line":58,"column":19},"end":{"line":58,"column":32}},"object":{"type":"Identifier","start":1702,"end":1706,"loc":{"start":{"line":58,"column":19},"end":{"line":58,"column":23},"identifierName":"data"},"name":"data"},"property":{"type":"Identifier","start":1707,"end":1715,"loc":{"start":{"line":58,"column":24},"end":{"line":58,"column":32},"identifierName":"Messages"},"name":"Messages"},"computed":false},"consequent":{"type":"BlockStatement","start":1717,"end":1844,"loc":{"start":{"line":58,"column":34},"end":{"line":61,"column":9}},"body":[{"type":"VariableDeclaration","start":1731,"end":1761,"loc":{"start":{"line":59,"column":12},"end":{"line":59,"column":42}},"declarations":[{"type":"VariableDeclarator","start":1735,"end":1761,"loc":{"start":{"line":59,"column":16},"end":{"line":59,"column":42}},"id":{"type":"Identifier","start":1735,"end":1742,"loc":{"start":{"line":59,"column":16},"end":{"line":59,"column":23},"identifierName":"message"},"name":"message"},"init":{"type":"MemberExpression","start":1745,"end":1761,"loc":{"start":{"line":59,"column":26},"end":{"line":59,"column":42}},"object":{"type":"MemberExpression","start":1745,"end":1758,"loc":{"start":{"line":59,"column":26},"end":{"line":59,"column":39}},"object":{"type":"Identifier","start":1745,"end":1749,"loc":{"start":{"line":59,"column":26},"end":{"line":59,"column":30},"identifierName":"data"},"name":"data"},"property":{"type":"Identifier","start":1750,"end":1758,"loc":{"start":{"line":59,"column":31},"end":{"line":59,"column":39},"identifierName":"Messages"},"name":"Messages"},"computed":false},"property":{"type":"NumericLiteral","start":1759,"end":1760,"loc":{"start":{"line":59,"column":40},"end":{"line":59,"column":41}},"extra":{"rawValue":0,"raw":"0"},"value":0},"computed":true,"trailingComments":null},"trailingComments":null}],"kind":"var","trailingComments":[{"type":"CommentLine","value":" your logic to access this fetched message, should be here","start":1774,"end":1834,"loc":{"start":{"line":60,"column":12},"end":{"line":60,"column":72}}}]}],"directives":[]},"alternate":{"type":"BlockStatement","start":1850,"end":1920,"loc":{"start":{"line":61,"column":15},"end":{"line":63,"column":9}},"body":[{"type":"ExpressionStatement","start":1864,"end":1910,"loc":{"start":{"line":62,"column":12},"end":{"line":62,"column":58}},"expression":{"type":"CallExpression","start":1864,"end":1909,"loc":{"start":{"line":62,"column":12},"end":{"line":62,"column":57}},"callee":{"type":"MemberExpression","start":1864,"end":1875,"loc":{"start":{"line":62,"column":12},"end":{"line":62,"column":23}},"object":{"type":"Identifier","start":1864,"end":1871,"loc":{"start":{"line":62,"column":12},"end":{"line":62,"column":19},"identifierName":"console"},"name":"console"},"property":{"type":"Identifier","start":1872,"end":1875,"loc":{"start":{"line":62,"column":20},"end":{"line":62,"column":23},"identifierName":"log"},"name":"log"},"computed":false},"arguments":[{"type":"StringLiteral","start":1876,"end":1908,"loc":{"start":{"line":62,"column":24},"end":{"line":62,"column":56}},"extra":{"rawValue":"No messages found in the queue","raw":"\"No messages found in the queue\""},"value":"No messages found in the queue"}]}}],"directives":[]}}}],"directives":[]}}]}}],"directives":[]}}}}],"directives":[]},"comments":[{"type":"CommentLine","value":" your code goes here","start":451,"end":473,"loc":{"start":{"line":15,"column":12},"end":{"line":15,"column":34}}},{"type":"CommentLine","value":" error handling goes here","start":521,"end":548,"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":39}}},{"type":"CommentLine","value":"handle error","start":685,"end":699,"loc":{"start":{"line":25,"column":12},"end":{"line":25,"column":26}}},{"type":"CommentLine","value":"your logic goes here","start":729,"end":751,"loc":{"start":{"line":27,"column":12},"end":{"line":27,"column":34}}},{"type":"CommentLine","value":" successful response","start":988,"end":1010,"loc":{"start":{"line":36,"column":41},"end":{"line":36,"column":63}}},{"type":"CommentBlock","value":"\n            data = {\n                CopyObjectResult: {\n                    ETag: \"\\\"6805f2cfc46c0f04559748bb039d69ae\\\"\",\n                    LastModified: <Date Representation>\n                }\n            }\n            ","start":1023,"end":1251,"loc":{"start":{"line":37,"column":12},"end":{"line":44,"column":14}}},{"type":"CommentLine","value":" an error occurred","start":1328,"end":1348,"loc":{"start":{"line":47,"column":41},"end":{"line":47,"column":61}}},{"type":"CommentLine","value":" your logic to access this fetched message, should be here","start":1774,"end":1834,"loc":{"start":{"line":60,"column":12},"end":{"line":60,"column":72}}}]},"formatted":true,"resources":["snsusEast1a","snsusEast1a","ddba","s3apigKineProxy","sqsusEast1a"],"triggers":["snsusEast1a"]}},"rootNode":"19578676-f7c9-43ce-874d-bed71ac13416","openFiles":["bfbbcecd-7a84-494a-88a1-9199269433b1"],"currentFileId":"bfbbcecd-7a84-494a-88a1-9199269433b1","resources":{"snsusEast1a":{"name":"snsusEast1a","type":"SNS","config":{"topicMode":0,"topicName":"a","topicArn":"arn:aws:sns:us-east-1:359675929438:a","topicRegion":"us-east-1","isDirectSMS":false,"subscriptions":[],"operation":0},"usage":{"bfbbcecd-7a84-494a-88a1-9199269433b1":{"operations":{"publish":[{"Message":"d","Subject":"c","MessageAttributes":{},"MessageStructure":"String","TopicArn":"arn:aws:sns:us-east-1:359675929438:a"}]},"occurrence":1}}},"ddba":{"name":"ddba","type":"DynamoDB","config":{"mode":0,"operation":"put","table":{"arn":"","name":"a","partitionKey":"b","partitionKeyType":"S","hasSortKey":false,"sortKey":"","sortKeyType":"S"},"parameters":{"Key":{},"Item":{"c":"d"}}},"usage":{"bfbbcecd-7a84-494a-88a1-9199269433b1":{"operations":{"put":[{"TableName":"a","Item":{"c":"d"}}]},"occurrence":1}}},"s3apigKineProxy":{"name":"s3apigKineProxy","type":"S3","config":{"mode":1,"bucket":{"region":"us-east-1","name":"apig-kine-proxy"},"destinationBucket":{"name":"dynamo-lambda-redshift-data"},"operation":"COPY_OBJECT"},"usage":{"bfbbcecd-7a84-494a-88a1-9199269433b1":{"operations":{"copyObject":[{"Bucket":"dynamo-lambda-redshift-data","CopySource":"/apig-kine-proxy/key","Key":"key"}]},"occurrence":1}}},"sqsusEast1a":{"name":"sqsusEast1a","type":"SQS","config":{"mode":0,"existing":false,"name":"a","url":"https://sqs.us-east-1.amazonaws.com/359675929438/a","selectedRegion":"us-east-1","deliveryDelay":0,"deliveryDelayUnit":"seconds","useRedrivePolicy":false,"useSSE":false,"kmsCustomerMasterKey":"default","accountId":"","dataKeyReusePeriod":5,"queueType":"standardQueue","defaultVisibilityTimeout":30,"defaultVisibilityTimeoutUnit":"seconds","messageRetentionPeriod":4,"messageRetentionPeriodUnit":"days","maximumMessageSize":256,"receiveMessageWaitTime":0,"deadLetterQueueName":"","operation":0},"usage":{"bfbbcecd-7a84-494a-88a1-9199269433b1":{"operations":{"receiveMessage":[{"QueueUrl":"https://sqs.us-east-1.amazonaws.com/359675929438/a","AttributeNames":["All"],"MaxNumberOfMessages":"1","VisibilityTimeout":"30","WaitTimeSeconds":"0"}]},"occurrence":1}}}},"state":"CHANGED","triggers":["snsusEast1a"],"packageJSON":{"dependencies":{"aws-sdk":"2.176.0"}},"startX":0,"startY":0},"PROJECT_META":{"projectName":"tak","projectDescription":"tik","projectVersion":"tuk","repoName":"tak","repoUrl":"https://github.com/sigmaidetest/tak"}}